{
  "log": {"level": "warn", "timestamp": true},
  "experimental": {
    "cache_file": {
      "enabled": true,
      "path": "/tmp/sing-box-cache.db"
    }
  },
  "dns": {
    "servers": [
      {"tag": "proxy-dns", "address": "https://1.1.1.1/dns-query", "detour": "vless-out"},
      {"tag": "fakeip-dns", "address": "fakeip"},
      {"tag": "local-dns", "address": "local", "detour": "direct"}
    ],
    "rules": [
      {"outbound": ["any"], "server": "local-dns"},
      {"query_type": ["A", "AAAA"], "server": "fakeip-dns"}
    ],
    "final": "proxy-dns",
    "fakeip": {
      "enabled": true,
      "inet4_range": "198.18.0.0/15",
      "inet6_range": "fc00::/18"
    },
    "strategy": "prefer_ipv4",
    "independent_cache": true
  },
  "inbounds": [
    {
      "type": "tproxy",
      "tag": "tproxy-in",
      "listen": "::",
      "listen_port": 12345,
      "sniff": true,
      "sniff_override_destination": true
    }
  ],
  "outbounds": [
    {
      "type": "vless",
      "tag": "vless-out",
      "server": "139.180.136.97",
      "server_port": 443,
      "uuid": "72ff96dd-0dda-4757-bca4-f8cd9b9e5ef6",
      "flow": "xtls-rprx-vision",
      "tls": {
        "enabled": true,
        "server_name": "www.speedtest.net",
        "utls": {"enabled": true, "fingerprint": "chrome"},
        "reality": {
          "enabled": true,
          "public_key": "9vgpvqYG9nxuK_40Fz3OX8PFNHFU3GCUyP8lYOZ0Y2I",
          "short_id": "9aea47c4c738b641"
        }
      }
    },
    {"type": "direct", "tag": "direct"},
    {"type": "dns", "tag": "dns-out"}
  ],
  "route": {
    "rules": [
      {"port": [53], "outbound": "dns-out"},
      {"ip_cidr": ["198.18.0.0/15"], "outbound": "vless-out"},
      {"ip_cidr": ["192.168.0.0/16", "10.0.0.0/8", "172.16.0.0/12", "127.0.0.0/8"], "outbound": "direct"}
    ],
    "final": "vless-out",
    "auto_detect_interface": true
  }
}
